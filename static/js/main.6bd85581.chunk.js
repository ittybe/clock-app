(this["webpackJsonpclock-app"]=this["webpackJsonpclock-app"]||[]).push([[0],{27:function(t,e,n){},28:function(t,e,n){},30:function(t,e,n){},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n.n(i),s=n(22),r=n.n(s),o=(n(27),n(28),n(3)),c=n.n(o),u=n(4),d=n(5),l=n(7),m=n(6),h=n(9),f=n.p+"static/media/icon-refresh.dd4042c8.svg",b=(n(30),n(0)),x=function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(t){var i;Object(u.a)(this,n);var a=null;return(i=e.call(this,t)).props.quotes.length>0?a=i.props.quotes[0]:console.log("no quotes in props"),i.state={currentQuote:{text:a.text,author:a.author,index:0}},i}return Object(d.a)(n,[{key:"updateQuote",value:function(){if(this.props.quotes.length===this.state.currentQuote.index+1){var t=this.props.quotes[0],e={text:t.text,author:t.author,index:0};this.setState({currentQuote:e})}else{var n=this.state.currentQuote.index+1,i=this.props.quotes[n],a={text:i.text,author:i.author,index:n};this.setState({currentQuote:a})}}},{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{className:"quotes flex flex-row leading-relaxed md:justify-between",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"",children:['"',this.state.currentQuote.text,'"']}),Object(b.jsx)("div",{className:"mt-2 font-bold ",children:this.state.currentQuote.author})]}),Object(b.jsx)("button",{className:"refresh-icon ",onClick:function(){return t.updateQuote()},children:Object(b.jsx)("img",{src:f,alt:"refresh"})})]})}}]),n}(a.a.Component),p=n(8),j=n.n(p),g=(n(33),function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"getFormatedTime",value:function(){var t=1e3*this.props.unixtime,e=new Date(t);return j()(e).format("HH:mm")}},{key:"getLocation",value:function(){return"IN ".concat(this.props.city,", ").concat(this.props.countryCode).toUpperCase()}},{key:"getGreeting",value:function(){return this.props.isMorning?"GOOD MORNING":"GOOD EVENING"}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"flex-auto flex flex-col ",children:[Object(b.jsxs)("div",{className:"\r flex flex-row\r text-m-greetings-f-s \r font-light\r tracking-widest\r md:text-t-greetings-f-s\r xl:text-d-greetings-f-s\r ",children:[Object(b.jsx)("div",{className:"greeting-icon bg-icon-sun dark:bg-icon-moon"}),this.getGreeting(),Object(b.jsx)("span",{className:"hidden md:block",children:", IT'S CURRENTLY"})]}),Object(b.jsxs)("div",{className:"\r text-m-time-f-s \r font-bold \r md:text-t-time-f-s \r xl:text-d-time-f-s \r ",children:[this.getFormatedTime(),Object(b.jsx)("span",{className:"text-m-abbr-f-s font-light md:text-t-abbr-f-s xl:text-d-abbr-f-s",children:this.props.abbreviation})]}),Object(b.jsx)("div",{className:"\r text-m-greetings-f-s\r font-bold\r tracking-widest\r md:text-t-greetings-f-s\r xl:text-d-greetings-f-s\r ",children:this.getLocation()})]})}}]),n}(a.a.Component)),v=g,O=(n(34),function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"overflow-auto info-tab-wrapper bg-info-tab dark:bg-info-tab-dark ",children:Object(b.jsxs)("div",{className:"info-tab ".concat(this.props.isMorning?"stripe-light-mode":"stripe-dark-mode"),children:[Object(b.jsxs)("div",{className:"info gray-text dark:text-white",children:[Object(b.jsx)("div",{children:"CURRENT TIMEZONE"}),Object(b.jsx)("div",{children:this.props.timezone})]}),Object(b.jsxs)("div",{className:"info gray-text dark:text-white",children:[Object(b.jsx)("div",{children:"DAY OF THE YEAR"}),Object(b.jsx)("div",{children:this.props.dayOfYear})]}),Object(b.jsxs)("div",{className:"info gray-text dark:text-white",children:[Object(b.jsx)("div",{children:"DAY OF THE WEEK"}),Object(b.jsx)("div",{children:this.props.dayOfWeek})]}),Object(b.jsxs)("div",{className:"info gray-text dark:text-white",children:[Object(b.jsx)("div",{children:"WEEK NUMBER"}),Object(b.jsx)("div",{children:this.props.weekNumber})]})]})})}}]),n}(a.a.Component)),y=O,k=(n(35),n(13)),w=n.n(k);function N(){return I.apply(this,arguments)}function I(){return(I=Object(h.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.a.get("https://geolocation-db.com/json/");case 2:if(e=t.sent,console.log("geo: ",e.data),!e.data.IPv4){t.next=8;break}return t.abrupt("return",{ip:e.data.IPv4,countryCode:e.data.country_code,city:e.data.city});case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return M.apply(this,arguments)}function M(){return(M=Object(h.a)(c.a.mark((function t(e){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,w.a.get("http://worldtimeapi.org/api/ip/".concat(e));case 3:return n=t.sent,console.log("time by ip",n),t.abrupt("return",{timezone:n.data.timezone,abbreviation:n.data.abbreviation,dayOfWeek:n.data.day_of_week,dayOfYear:n.data.day_of_year,weekNumber:n.data.week_number,unixtime:n.data.unixtime});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var E=function(t){Object(l.a)(n,t);var e=Object(m.a)(n);function n(t){var i;return Object(u.a)(this,n),(i=e.call(this,t)).state={quotes:[{text:"If you set your goals ridiculously high and it's a failure, you will fail above everyone else's success.",author:"James Cameron"},{text:"If life were predictable it would cease to be life, and be without flavor.",author:"Eleanor Roosevelt"},{text:"Your time is limited, so don't waste it living someone else's life. Don't be trapped by dogma \u2013 which is living with the results of other people's thinking.",author:"Steve Jobs"}],isMorning:!0,timeInfo:{},unixtime:null,isTabHidden:!0},i}return Object(d.a)(n,[{key:"switchIsTabHidden",value:function(){var t=!this.state.isTabHidden;this.setState({isTabHidden:t})}},{key:"componentDidMount",value:function(){var t=this;console.log("component did mount"),this.initialize().then((function(){t.isMorningNow(t.state.unixtime),setInterval((function(){t.setState({unixtime:t.state.unixtime+1}),console.log("set interval"),t.state.unixtime-t.state.timeInfo.unixtime>180&&t.updateTime()}),1e3)}),(function(){}))}},{key:"initialize",value:function(){var t=Object(h.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTimeInfo();case 2:e=t.sent,this.setState({timeInfo:e,unixtime:e.unixtime}),console.log("unixtime init: ",e.unixtime);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"isMorningNow",value:function(t){var e=new Date(1e3*t),n=j()(e),i=j()(e).startOf("day"),a=i.from(n);if(console.log("isMorningNow message ".concat(a," now ").concat(n," startOfday ").concat(i," unixtime ").concat(t)),/\d+ hour.? ago/g.test(a)){var s=a.split(" ");if(parseInt(s[0])>=16){this.setState({isMorning:!1})}else{this.setState({isMorning:!0})}}}},{key:"updateTime",value:function(){var t=Object(h.a)(c.a.mark((function t(){var e;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getTimeInfo();case 2:e=t.sent,this.setState({timeInfo:e,unixtime:e.unixtime}),console.log("update time : ",e.unixtime),console.log("".concat(j()(e.unixtime).startOf())),this.isMorningNow(e.unixtime);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTimeInfo",value:function(){var t=Object(h.a)(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:return e=t.sent,t.next=5,T(e.ip);case 5:return n=t.sent,t.abrupt("return",{ip:e.ip,countryCode:e.countryCode,city:e.city,timezone:n.timezone,abbreviation:n.abbreviation,dayOfWeek:n.dayOfWeek,dayOfYear:n.dayOfYear,weekNumber:n.weekNumber,unixtime:n.unixtime});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(b.jsx)("div",{className:"w-full h-full ".concat(this.state.isMorning?"":"dark"),children:Object(b.jsx)("div",{className:"main-bg bg-m-light-main dark:bg-m-dark-main md:bg-t-light-main md:dark:bg-t-dark-main lg:bg-d-light-main lg:dark:bg-d-dark-main",children:Object(b.jsx)("div",{className:"app-wrapper",children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsxs)("div",{className:"top flex flex-col h-full m-7 md:m-16 ",children:[Object(b.jsx)("div",{className:"text-m-button-f-s md:text-t-button-f-s mb-20 ".concat(this.state.isTabHidden?"block":"hidden"),children:Object(b.jsx)(x,{quotes:this.state.quotes})}),Object(b.jsxs)("div",{className:"mt-auto lg:flex lg:flex-row lg:items-end",children:[Object(b.jsx)(v,{abbreviation:this.state.timeInfo.abbreviation,unixtime:this.state.unixtime,city:this.state.timeInfo.city,countryCode:this.state.timeInfo.countryCode,isMorning:this.state.isMorning}),Object(b.jsxs)("button",{onClick:function(){return t.switchIsTabHidden()},className:" moreless-button flex-none flex flex-row  items-center rounded-full py-1 px-1 pl-6 md:py-2 md:px-2 md:pl-4 bg-white w-min mt-16 ",children:[Object(b.jsx)("span",{className:"button-text text-m-button-f-s md:text-t-button-f-s",children:this.state.isTabHidden?"MORE":"LESS"}),Object(b.jsx)("div",{className:"arrow-up bg-arrow-up ".concat(this.state.isTabHidden?"":"flip-arrow")})]})]})]}),Object(b.jsx)("div",{className:"bottom ".concat(this.state.isTabHidden?"hidden":"block"),children:Object(b.jsx)(y,{timezone:this.state.timeInfo.timezone,dayOfYear:this.state.timeInfo.dayOfYear,dayOfWeek:this.state.timeInfo.dayOfWeek,weekNumber:this.state.timeInfo.weekNumber,isMorning:this.state.isMorning})})]})})})})}}]),n}(a.a.Component),C=E;r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.6bd85581.chunk.js.map